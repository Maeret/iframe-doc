"use strict";(self.webpackChunkiframe_api_docs=self.webpackChunkiframe_api_docs||[]).push([[8558],{16706:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"frontend/faq","title":"FAQ","description":"iframe cookies security issue","source":"@site/docs/frontend/faq.mdx","sourceDirName":"frontend","slug":"/frontend/faq","permalink":"/iframe-doc/docs/frontend/faq","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"FAQ","sidebar_position":5,"hide_table_of_contents":false},"sidebar":"defaultSidebar","previous":{"title":"Open in new tab","permalink":"/iframe-doc/docs/frontend/newTab"},"next":{"title":"Widgets","permalink":"/iframe-doc/docs/frontend/widget"}}');var s=i(74848),o=i(28453);const r={title:"FAQ",sidebar_position:5,hide_table_of_contents:!1},a=void 0,c={},d=[{value:"iframe cookies security issue",id:"iframe-cookies-security-issue",level:2},{value:"Custom iframe menu",id:"custom-iframe-menu",level:2},{value:"Open in new tag",id:"open-in-new-tag",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"iframe-cookies-security-issue",children:"iframe cookies security issue"}),"\n",(0,s.jsx)(n.p,{children:"There is an issue with iframe cookie write access in some browsers (Safari,\nFirefox). It prohibits saving a cookie until the iframe domain is opened\ndirectly. In this instance, the browser successfully accepts cookies from the\nserver, but does not save them or send them back to the server with the\nsubsequent request."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://webkit.org/blog/8124/introducing-storage-access-api/",children:"Read more"}),"."]})}),"\n",(0,s.jsx)(n.p,{children:"The iframe needs write access in to function properly. To fix this, iframe have\na special mechanism: the first time a page with an iframe is opened, a special\npage will be displayed to the user with a warning about the need to use cookies\nand a button."}),"\n",(0,s.jsxs)(n.p,{children:["When the button is clicked, a new iframe domain page is opened with a particular\naddress for the test cookie to be recorded. New page is automatically closed and\nthe iframe is relaunched. If successful, the iframe gains cookie storage access\nand redirects to the specified mechanism using the ",(0,s.jsx)(n.code,{children:"gear"})," parameter, as\ndescribed ",(0,s.jsx)(n.a,{href:"/frontend/API",children:"here"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"custom-iframe-menu",children:"Custom iframe menu"}),"\n",(0,s.jsx)(n.p,{children:"If you want to use your section switching menu instead of the default one,\nplease contact us. The standard menu can be disabled."}),"\n",(0,s.jsx)(n.h2,{id:"open-in-new-tag",children:"Open in new tag"}),"\n",(0,s.jsx)(n.p,{children:'If the user clicks on links inside the iframe while holding down the Ctrl or Cmd\nkey (or selects "Open Link in New Tab"), they will be redirected to the iframe\nparent domain.'}),"\n",(0,s.jsxs)(n.p,{children:["The address of the new page will contain the link (",(0,s.jsx)(n.code,{children:"path"}),") that the user needs\nto be redirected to:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"https://{domain}/b2b-frame-goto?path={path}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"domain"})," \u2014 the parent domain for accessing the iframe"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"path"})," \u2014 the address of the page to be redirected, for example:\n",(0,s.jsx)(n.code,{children:"https:%2F%example.com%2Fen%2Flive%2Ffootball"})]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The address of the parent domain is taken from ",(0,s.jsx)(n.code,{children:"document.referrer"}),"."]})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var t=i(96540);const s={},o=t.createContext(s);function r(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);