"use strict";(self.webpackChunkiframe_api_docs=self.webpackChunkiframe_api_docs||[]).push([[8982],{64227:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>d,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"backend/payments","title":"Transactions","description":"The IFRAME Service initiates a call to the","source":"@site/get-started/backend/payments.mdx","sourceDirName":"backend","slug":"/backend/payments","permalink":"/backend/payments","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Transactions","sidebar_position":3,"hide_table_of_contents":false},"sidebar":"defaultSidebar","previous":{"title":"Seam Wallet API","permalink":"/backend/wallet"},"next":{"title":"Request signature","permalink":"/backend/sign"}}');var a=t(74848),c=t(28453),l=t(9994);const s={title:"Transactions",sidebar_position:3,hide_table_of_contents:!1},d=void 0,r={},o=[...l.RM,{value:"payment acceptance",id:"payment-acceptance",level:2},{value:"Calculation",id:"calculation",level:2},{value:"Recalculation",id:"recalculation",level:2},{value:"Sale",id:"sale",level:2},{value:"payment deleted",id:"payment-deleted",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["The IFRAME Service initiates a call to the\n",(0,a.jsx)(n.a,{href:"/backend/API#operation/MakePayment",children:(0,a.jsx)(n.strong,{children:"/MakePayment"})})," method in accordance with\nthe payment life cycle."]}),"\n",(0,a.jsx)(l.Ay,{}),"\n",(0,a.jsx)(n.h2,{id:"payment-acceptance",children:"payment acceptance"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"type = payment"})}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["The user initiated the placement of a payment. The first call to ",(0,a.jsx)(n.code,{children:"/MakePayment"}),"\noccurs."]}),"\n",(0,a.jsx)(n.h2,{id:"calculation",children:"Calculation"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"type = win"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"type = loss"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"type = refund"})}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["At the time of the calculation of the payment (when the outcome of the event is\ndetermined), the method is recalled again, with the corresponding ",(0,a.jsx)(n.code,{children:"type"})," of the\npayment."]}),"\n",(0,a.jsx)(n.h2,{id:"recalculation",children:"Recalculation"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"type = win"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"type = loss"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"type = refund"})}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Calling the ",(0,a.jsx)(n.code,{children:"/MakePayment"})," method again with the specified ",(0,a.jsx)(n.code,{children:"type"}),". Occurs when\nthe result of a match is annulled."]}),"\n",(0,a.jsx)(n.admonition,{type:"important",children:(0,a.jsxs)(n.p,{children:["In this case, the previous transaction (",(0,a.jsx)(n.code,{children:"win"}),", ",(0,a.jsx)(n.code,{children:"loss"}),",\n",(0,a.jsx)(n.code,{children:"refund"}),") should be canceled by your service."]})}),"\n",(0,a.jsx)(n.h2,{id:"sale",children:"Sale"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"type = sale"})}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"The user initiated the sale of a payment."}),"\n",(0,a.jsx)(n.h2,{id:"payment-deleted",children:"payment deleted"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"type = deleted"})}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"The payment can be removed on the IFRAME Service side. For example, in the event of\na failure when calling a method with the payment acceptance."})]})}function p(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},9994:(e,n,t)=>{t.d(n,{Ay:()=>s,RM:()=>c});var i=t(74848),a=t(28453);const c=[];function l(e){const n={mermaid:"mermaid",...(0,a.R)(),...e.components};return(0,i.jsx)(n.mermaid,{value:"stateDiagram-v2\n  state Calculation {\n    [*] --\x3e refund\n    [*] --\x3e win\n    [*] --\x3e loss\n  }\n\n\n  [*] --\x3e payment\n\n  payment --\x3e Calculation\n  payment --\x3e sale\n  payment --\x3e deleted\n\n  sale --\x3e [*]\n\n  deleted --\x3e [*]\n\n  refund --\x3e win: recalculation\n  refund --\x3e [*]\n\n  loss --\x3e win: recalculation\n  loss --\x3e [*]\n\n  win --\x3e refund: recalculation\n  win --\x3e loss: recalculation\n  win --\x3e [*]"})}function s(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>s});var i=t(96540);const a={},c=i.createContext(a);function l(e){const n=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);